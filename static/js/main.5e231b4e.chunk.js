(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,n,t){e.exports=t(34)},24:function(e,n,t){},32:function(e,n,t){},34:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(4),i=t.n(o),l=(t(24),t(1)),c=t(14),u=t(5),d=t(6),s=t(8),h=t(7),f=t(9),g=t(3),m=t(2);function b(){var e=Object(l.a)(["\n    padding: 0.4rem;\n    background: rgba(7,102,166,1);\n    background: -moz-linear-gradient(left, rgba(7,102,166,1) 0%, rgba(0,148,89,1) 100%);\n    background: -webkit-gradient(left top, right top, color-stop(0%, rgba(7,102,166,1)), color-stop(100%, rgba(0,148,89,1)));\n    background: -webkit-linear-gradient(left, rgba(7,102,166,1) 0%, rgba(0,148,89,1) 100%);\n    background: -o-linear-gradient(left, rgba(7,102,166,1) 0%, rgba(0,148,89,1) 100%);\n    background: -ms-linear-gradient(left, rgba(7,102,166,1) 0%, rgba(0,148,89,1) 100%);\n    background: linear-gradient(to right, rgba(7,102,166,1) 0%, rgba(0,148,89,1) 100%);\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#0766a6', endColorstr='#009459', GradientType=1 );\n"]);return b=function(){return e},e}function v(){var e=Object(l.a)(["\n    ","\n    font-size: 40px;\n    color: white;\n"]);return v=function(){return e},e}var p=function(){return r.a.createElement(j,null,r.a.createElement(w,null,"Toronto Waste Lookup"))},w=m.a.h1(v(),function(){return"\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"}),j=m.a.section(b()),O={torontoWaste:"https://secure.toronto.ca/cc_sr_v1/data/swm_waste_wizard_APR?limit=1000"},y=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 18 18","aria-labelledby":"title"},r.a.createElement("title",{id:"title"},"favouriteStar"),r.a.createElement("path",{fill:"none",d:"M0 0h18v18H0V0z"}),r.a.createElement("path",{d:"M9 11.3l2.46 1.79c.39.29.92-.1.77-.56l-.94-2.89 2.43-1.73c.4-.28.2-.91-.29-.91h-2.98l-.97-3.02c-.15-.46-.8-.46-.95 0L7.55 7H4.57c-.49 0-.69.63-.29.91l2.43 1.73-.94 2.89c-.15.46.38.84.77.56L9 11.3z"}))};function E(){var e=Object(l.a)(["\n    margin-bottom: 2rem;\n    width: 50%;\n    position: relative;\n    left: 50%;\n\n    ul {\n    margin: 0;\n    padding: 0;\n        li {\n            padding-bottom: 1rem;\n        }\n    }\n        \n"]);return E=function(){return e},e}function k(){var e=Object(l.a)(["\n    display: flex;\n    alignItems: 'center';\n    width: 50%;\n    position: absolute;\n    background-color: transparent;\n    border: none;\n    outline: none;\n\n    h1 {\n    margin: 0;\n    font-weight: normal;\n    font-size 18px;\n    }\n\n    svg {\n    fill: #C9C9C9;\n    cursor: pointer;\n    :hover, &.isFavourite {\n        fill: rgb(0, 148, 89);\n    }\n    \n"]);return k=function(){return e},e}function S(){var e=Object(l.a)(["\n  margin: 1rem 0.8rem;\n  width: 97%;\n"]);return S=function(){return e},e}var C=function(e){function n(e){var t;return Object(u.a)(this,n),(t=Object(s.a)(this,Object(h.a)(n).call(this,e))).htmlDecode=t.htmlDecode.bind(Object(g.a)(Object(g.a)(t))),t}return Object(f.a)(n,e),Object(d.a)(n,[{key:"htmlDecode",value:function(e){var n=document.createElement("textarea");return n.innerHTML=e,n.value}},{key:"render",value:function(){var e=this.props,n=e.title,t=e.body,a=e.handleLocal,o=e.isFavourite;return r.a.createElement(x,null,r.a.createElement(L,null,r.a.createElement(y,{className:o?"isFavourite":"",title:n,onClick:function(){a(n)}}),r.a.createElement("h1",null,n)),r.a.createElement(z,{dangerouslySetInnerHTML:{__html:this.htmlDecode(t)}}))}}]),n}(a.Component),x=m.a.div(S()),L=m.a.button(k()),z=m.a.div(E());function I(){var e=Object(l.a)(["\n  margin: 1rem 0.8rem;\n  width: 97%;\n"]);return I=function(){return e},e}var M=m.a.div(I()),D=function(e){var n=e.data,t=e.handleLocal,a=e.favourites;return r.a.createElement(M,null,n&&n.map(function(e,n){var o=e.body,i=e.title;return r.a.createElement(C,{key:n,title:i,body:o,handleLocalStorage:t,isFavourited:a&&a.includes(i)})}))},F=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20","aria-labelledby":"title"},r.a.createElement("title",{id:"title"},"Magnifying glass"),r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))};function _(){var e=Object(l.a)(["\n    display: flex;\n    height: 2.8rem;\n    width: 2.9rem;\n    background-color: rgb(0, 148, 89);\n    border-radius: 3px;\n    outline: none;\n    cursor: pointer;\n\n    svg {\n        fill: white;\n        width: 100%;\n        height: auto;\n        transform: rotate(-270deg);\n    }\n"]);return _=function(){return e},e}function J(){var e=Object(l.a)(["\n    width: 93%;\n    appearance: none;\n    height: 2.8rem;\n    padding-left: 0.8rem;\n    font-size: 18px;\n    border-radius: 2px;\n    border: 1px solid rgb(201, 201, 201);\n    outline: none;\n"]);return J=function(){return e},e}function N(){var e=Object(l.a)(["\n    width: 100%;\n    margin-top: 1rem;\n"]);return N=function(){return e},e}function H(){var e=Object(l.a)(["\n    display: flex;\n    ",";\n"]);return H=function(){return e},e}var T=function(e){var n=e.keyword,t=e.handleSearch,a=e.handleChange;return r.a.createElement(B,null,r.a.createElement(A,{type:"search",name:"keyword",value:n,onChange:function(e){return a(e)}}),r.a.createElement(G,{"aria-label":"search",onClick:function(e){return t(e)}},r.a.createElement(F,null)))},W=m.a.form(H(),function(e){var n=e.justifyContent;return n&&"justify-content: ".concat(n)}),B=Object(m.a)(W).attrs({justifyContent:"space-evenly"})(N()),A=m.a.input(J()),G=m.a.button(_());t(32);function P(){var e=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 0 1rem;\n    &.favourites {\n      background-color: rgba(0, 148, 89, 0.1);\n    }\n    h2 {\n      color: rgb(0, 148, 89);\n    }\n"]);return P=function(){return e},e}var R=function(e){function n(e){var t;return Object(u.a)(this,n),(t=Object(s.a)(this,Object(h.a)(n).call(this,e))).handleChange=function(e){var n=e.target,a=n.name,r=n.value;t.setState(Object(c.a)({},a,r))},t.handleSearch=function(e){e.preventDefault(),t.setState({searched:!0})},t.handleEnter=function(e){13===e.keyCode&&t.handleSearch()},t.favourite=function(e){t.setState({isFavourite:!0})},t.handleLocal=function(e,n){var a=localStorage.getItem("favourites")?JSON.parse(localStorage.getItem("favourites")):[];if(a.includes(e)){var r=a.indexOf(e);a.splice(r,1),localStorage.setItem("favourites",JSON.stringify(a))}else a.push(e),localStorage.setItem("favourites",JSON.stringify(a));t.setState({favourites:a})},t.handleChange=t.handleChange.bind(Object(g.a)(Object(g.a)(t))),t.handleSearch=t.handleSearch.bind(Object(g.a)(Object(g.a)(t))),t.handleEnter=t.handleEnter.bind(Object(g.a)(Object(g.a)(t))),t.handleLocal=t.handleLocal.bind(Object(g.a)(Object(g.a)(t))),t.state={data:[],favourites:[],keyword:"",searched:!1},t}return Object(f.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch(O.torontoWaste).then(function(e){return e.json()}).then(function(n){e.setState({data:n,favourites:localStorage.getItem("favourites")?JSON.parse(localStorage.getItem("favorites")):[]})}).catch(function(e){return console.log(e)})}},{key:"componentDidUpdate",value:function(){var e=this.state,n=e.keyword,t=e.searched;0===n.length&t&&this.setState({searched:!1})}},{key:"render",value:function(){var e=this,n=this.state,t=n.data,a=n.keyword,o=n.searched,i=n.favourites,l=t.filter(function(e){return e.keywords.toLowerCase().includes(a&&a.toLowerCase())}),c=t.filter(function(e){return i.includes(e.title)});return r.a.createElement("div",{className:"App",handleEnter:function(n){return e.handleEnter(n)}},r.a.createElement(p,null),r.a.createElement(T,{handleChange:this.handleChange,handleSearch:this.handleSearch}),a.length>0?o&&r.a.createElement(D,{data:l,handleLocal:this.handleLocal,favourites:i}):null,c.length>1&&r.a.createElement(U,{isFavourite:!0},r.a.createElement("h2",null,"Favourites"),r.a.createElement(D,{data:c,handleLocal:this.handleLocal,favourites:i})))}}]),n}(a.Component),U=m.a.section(P()),V=R;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.5e231b4e.chunk.js.map